"""
Валидаторы для проверки входных данных
"""
import re


def validate_email(email):
    """
    Валидация email адреса
    
    Проверяет корректность формата email с помощью регулярного выражения.
    Поддерживает стандартный формат: user@domain.com
    
    Args:
        email (str): Email адрес для проверки
    
    Returns:
        bool: True если email валиден, False в противном случае
    
    Примеры:
        validate_email("user@example.com") -> True
        validate_email("invalid.email") -> False
    """
    # Регулярное выражение для проверки формата email
    # ^ - начало строки
    # [a-zA-Z0-9._%+-]+ - имя пользователя (один или более символов)
    # @ - символ @
    # [a-zA-Z0-9.-]+ - доменное имя
    # \. - точка перед доменом верхнего уровня
    # [a-zA-Z]{2,} - домен верхнего уровня (минимум 2 буквы)
    # $ - конец строки
    pattern = r'^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$'
    return re.match(pattern, email) is not None


def validate_phone(phone):
    """
    Валидация номера телефона
    
    Проверяет корректность формата международного номера телефона.
    Удаляет пробелы и дефисы перед проверкой.
    
    Args:
        phone (str): Номер телефона для проверки
    
    Returns:
        bool: True если номер валиден, False в противном случае
    
    Примеры:
        validate_phone("+79161234567") -> True
        validate_phone("7916-123-45-67") -> True (после удаления дефисов)
        validate_phone("123") -> False
    """
    # Удаляем пробелы и дефисы для унификации формата
    cleaned_phone = phone.replace(' ', '').replace('-', '')
    
    # Регулярное выражение для международного формата:
    # ^\+? - необязательный знак + в начале
    # [1-9] - первая цифра не может быть 0
    # \d{1,14} - от 1 до 14 цифр (стандарт E.164)
    pattern = r'^\+?[1-9]\d{1,14}$'
    return re.match(pattern, cleaned_phone) is not None

